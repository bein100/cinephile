"use strict";(self["webpackChunkcinephile"]=self["webpackChunkcinephile"]||[]).push([[892],{1144:function(t,n,e){e.d(n,{Z:function(){return _}});var o=e(6252),i=e(3577);const s={class:"container main-content"},l={class:"main-content-list"},a={key:0,class:"loading"},r=(0,o._)("div",{class:"loading__spinner"},null,-1),c=[r];function u(t,n,e,r,u,p){const d=(0,o.up)("ContentItem");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",s,[(0,o._)("h2",null,(0,i.zw)("movie"==e.content?"Все фильмы":"Все сериалы"),1),(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.allContent,(t=>((0,o.wg)(),(0,o.j4)(d,{key:t.id,item:t,content:e.content},null,8,["item","content"])))),128))])]),u.loading?((0,o.wg)(),(0,o.iD)("div",a,c)):(0,o.kq)("",!0)],64)}e(7658);const p=["src"];function d(t,n,e,i,s,l){const a=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(a,{class:"main-content-item",to:`/${e.content}/${e.item.id}`},{default:(0,o.w5)((()=>[(0,o._)("img",{src:t.imageFullUrl+e.item.poster_path,alt:"alt"},null,8,p)])),_:1},8,["to"])}var m=e(3907),g={props:["content","item"],computed:{...(0,m.rn)(["imageFullUrl"])}},h=e(3744);const v=(0,h.Z)(g,[["render",d]]);var w=v,f={props:["content"],components:{ContentItem:w},data(){return{page:1,loading:!1,allContent:[]}},computed:{...(0,m.rn)("popularMovies",["popularMovies"]),...(0,m.rn)("popularTvs",["popularTvs"])},methods:{async getContent(){if(!this.loading){this.loading=!0;let t="movie"==this.content?"popularMovies/getPopular":"popularTvs/getPopular";await this.$store.dispatch(`${t}`,this.page);let n="movie"==this.content?this.popularMovies:this.popularTvs;this.allContent.push(...n),this.loading=!1,this.page++}}},mounted(){this.getContent(),window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.getContent()}))}};const C=(0,h.Z)(f,[["render",u]]);var _=C},1892:function(t,n,e){e.r(n),e.d(n,{default:function(){return u}});var o=e(6252);const i={class:"main"};function s(t,n,e,s,l,a){const r=(0,o.up)("ContentList");return(0,o.wg)(),(0,o.iD)("main",i,[(0,o.Wm)(r,{content:"movie"})])}var l=e(1144),a={components:{ContentList:l.Z}},r=e(3744);const c=(0,r.Z)(a,[["render",s]]);var u=c}}]);
//# sourceMappingURL=892.f7f0613d.js.map